æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸã€‚
éæ©Ÿèƒ½è¦ä»¶ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°ã«åŸºã¥ãã€\*\*ã€Œé«˜å“è³ªãƒ»ç§»æ¤æ€§ãƒ»ä¸­è¦æ¨¡ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€\*\*ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªæŠ€è¡“è¨­è¨ˆæ›¸ã‚’ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã§ä½œæˆã—ã¾ã™ã€‚

---

# ğŸ“± å‹•ç”»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  æŠ€è¡“è¨­è¨ˆæ›¸

## 1\. æ¦‚è¦

æœ¬æ–‡æ›¸ã¯ã€ä¸­è¦æ¨¡ï¼ˆ10,000 DAUï¼‰ã®å‹•ç”»é…ä¿¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®æŠ€è¡“çš„ãªè¨­è¨ˆã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å®šç¾©ã™ã‚‹ã€‚
ç‰¹ã«**éæ©Ÿèƒ½è¦ä»¶**ã§å®šç¾©ã•ã‚ŒãŸ**ç§»æ¤æ€§ï¼ˆè„±ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ­ãƒƒã‚¯ã‚¤ãƒ³ï¼‰**ã€**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**ã€**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**ã‚’ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§å®Ÿç¾ã™ã‚‹æ–¹æ³•ã‚’è¦å®šã™ã‚‹ã€‚

## 2\. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ã‚·ã‚¹ãƒ†ãƒ ã¯ Cloudflare ã‚’ä¸­å¿ƒã¨ã—ãŸã‚¨ãƒƒã‚¸ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æ§‹æˆã•ã‚Œã‚‹ã€‚

### æ§‹æˆè¦ç´ 

- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ:** Next.js (React) ã§æ§‹ç¯‰ã•ã‚ŒãŸ SPAã€‚Cloudflare Pages ã«ã‚ˆã‚Šã‚¨ãƒƒã‚¸ã‹ã‚‰é…ä¿¡ã•ã‚Œã‚‹ã€‚
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API:** Next.js API Routesã€‚Cloudflare Workers ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ã€‚
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:** Supabase (PostgreSQL)ã€‚
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸:** Cloudflare R2ã€‚

### èªè¨¼ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1.  **èªè¨¼ (Auth):**
    - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ Supabase Auth (Gmail) ã§èªè¨¼ã€‚
    - Supabase ãŒç™ºè¡Œã™ã‚‹ **JWT** ã‚’å–å¾—ã€‚
    - ä»¥é™ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã™ã¹ã¦ã® API ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® `Authorization` ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã“ã® JWT ã‚’ä»˜ä¸ã™ã‚‹ã€‚
2.  **API (Next.js):**
    - API ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã‚‹ã¨ã€ã¾ãšãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ JWT ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
    - æ¤œè¨¼å¾Œã€Prisma Client ã‚’ä»‹ã—ã¦ Supabase (DB) ã«ã‚¯ã‚¨ãƒªã‚’ç™ºè¡Œã™ã‚‹ã€‚
3.  **å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (Write):**
    - â‘  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ API (`/api/upload/sign`) ã«ã€Œã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ã€ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€‚
    - â‘¡ API ãŒ R2 ã¸ã®**ç½²åä»˜ã URL (Presigned URL)** ã‚’ç”Ÿæˆã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”ã™ã€‚
    - â‘¢ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€ãã® URL ã‚’ä½¿ã„ã€**R2 ã¸å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ã™ã‚‹ï¼ˆAPI ã‚µãƒ¼ãƒãƒ¼ã‚’çµŒç”±ã—ãªã„ï¼‰ã€‚
    - â‘£ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†å¾Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ API (`/api/videos`) ã«å‹•ç”»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç­‰ï¼‰ã‚’é€ä¿¡ã—ã€DB ã«ä¿å­˜ã™ã‚‹ã€‚
4.  **å‹•ç”»å†ç”Ÿ (Read):**
    - â‘  API (`/api/feed`) ã‹ã‚‰å‹•ç”»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã€‚
    - â‘¡ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å†…ã® R2 URLï¼ˆã¾ãŸã¯ Cloudflare CDN çµŒç”±ã® URLï¼‰ã‹ã‚‰å‹•ç”»ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å†ç”Ÿã™ã‚‹ã€‚

---

## 3\. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (Prisma Schema)

**NFR: ç§»æ¤æ€§** ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã€DB æ“ä½œã¯ `supabase-js` ã§ã¯ãªã **Prisma ORM** ã‚’ä»‹ã—ã¦è¡Œã†ã“ã¨ã‚’åŸå‰‡ã¨ã™ã‚‹ã€‚

- `schema.prisma` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’å®šç¾©ã™ã‚‹ã€‚
- **NFR: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** ã®ãŸã‚ã€Prisma ã§ã®æ“ä½œã«åŠ ãˆã€DB ãƒ¬ãƒ™ãƒ«ã§ **Supabase RLS (Row Level Security)** ã‚’ä½µç”¨ã™ã‚‹ï¼ˆå¾Œè¿°ï¼‰ã€‚

<!-- end list -->

```prisma
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "postgresql" // Supabase ã¯ Postgres
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

// ------------------------------------
// 1. èªè¨¼ (Authentication)
// ------------------------------------
// Supabase Auth ã¨åŒæœŸã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«
model User {
  id            String    @id @default(uuid()) // Supabase Auth ã® 'id' ã¨ä¸€è‡´ã•ã›ã‚‹
  email         String    @unique
  name          String?
  status        String    @default("active") // "active", "whitelisted", "blacklisted"
  createdAt     DateTime  @default(now()) @map("created_at")

  // Relations
  videos        Video[]
  likes         Like[]
  lists         List[]
  viewHistory   ViewHistory[]

  @@map("users") // Supabase Auth ã® 'users' ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç›´æ¥å‚ç…§
}

// ------------------------------------
// 2. å‹•ç”» (Video)
// ------------------------------------
model Video {
  id              String   @id @default(cuid())
  title           String
  description     String?

  // R2 ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚­ãƒ¼ (ä¾‹: "user_uuid/video_cuid/original.mp4")
  r2ObjectKey     String   @unique @map("r2_object_key")

  // äº‹å‰åœ§ç¸®ã•ã‚ŒãŸå‹•ç”»ã®ãƒ‘ã‚¹ (ä¾‹: "user_uuid/video_cuid/720p.mp4")
  r2CompressedPaths Json?    @map("r2_compressed_paths") // { "720p": "...", "360p": "..." }

  // å…ƒå‹•ç”»ã® URL (å³ã‚¹ãƒ¯ã‚¤ãƒ—ç”¨)
  originalUrl     String?  @map("original_url")

  authorId        String   @map("author_id")
  author          User     @relation(fields: [authorId], references: [id], onDelete: Cascade)

  createdAt       DateTime @default(now()) @map("created_at")

  // Relations
  hashtags        VideoHashtag[]
  likes           Like[]
  listItems       ListItem[]
  viewHistory     ViewHistory[]

  @@index([authorId])
  @@map("videos")
}

// ------------------------------------
// 3. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ (Interaction)
// ------------------------------------
model Like {
  userId  String @map("user_id")
  videoId String @map("video_id")

  user    User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  video   Video  @relation(fields: [videoId], references: [id], onDelete: Cascade)

  @@id([userId, videoId]) // è¤‡åˆãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ (ä¸€äººãŒ1å‹•ç”»ã«1ã„ã„ã­)
  @@map("likes")
}

// ä¿å­˜ãƒªã‚¹ãƒˆï¼ˆå…¬é–‹ãƒ»éå…¬é–‹ï¼‰
model List {
  id        String     @id @default(cuid())
  name      String
  isPublic  Boolean    @default(false) @map("is_public")

  ownerId   String     @map("owner_id")
  owner     User       @relation(fields: [ownerId], references: [id], onDelete: Cascade)

  items     ListItem[]

  @@map("lists")
}

// ãƒªã‚¹ãƒˆã®ä¸­èº«
model ListItem {
  id        String @id @default(cuid())
  listId    String @map("list_id")
  videoId   String @map("video_id")

  list      List   @relation(fields: [listId], references: [id], onDelete: Cascade)
  video     Video  @relation(fields: [videoId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now()) @map("created_at")

  @@unique([listId, videoId]) // 1ã¤ã®ãƒªã‚¹ãƒˆã«åŒã˜å‹•ç”»ã¯1ã¤ã¾ã§
  @@map("list_items")
}

// ------------------------------------
// 4. æ¤œç´¢ãƒ»æ¨è–¦ (Search & Recommendation)
// ------------------------------------
model Hashtag {
  id      String   @id @default(cuid())
  name    String   @unique // (ä¾‹: "React", "TypeScript")

  videos  VideoHashtag[]

  @@map("hashtags")
}

// å‹•ç”»ã¨ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«
model VideoHashtag {
  videoId   String   @map("video_id")
  hashtagId String   @map("hashtag_id")

  video     Video    @relation(fields: [videoId], references: [id], onDelete: Cascade)
  hashtag   Hashtag  @relation(fields: [hashtagId], references: [id], onDelete: Cascade)

  @@id([videoId, hashtagId])
  @@map("video_hashtags")
}

// ã‚¹ãƒ¯ã‚¤ãƒ—å±¥æ­´ï¼ˆæ¨è–¦ã‚¨ãƒ³ã‚¸ãƒ³ç”¨ï¼‰
model ViewHistory {
  id        String   @id @default(cuid())
  userId    String   @map("user_id")
  videoId   String   @map("video_id")

  // 'swiped_away' (é€”ä¸­ã§é›¢è„±), 'watched_full' (æœ€å¾Œã¾ã§è¦‹ãŸ)
  action    String

  watchedAt DateTime @default(now()) @map("watched_at")

  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  video     Video    @relation(fields: [videoId], references: [id], onDelete: Cascade)

  @@index([userId, watchedAt])
  @@map("view_history")
}
```

---

## 4\. èªè¨¼ãƒ»èªå¯ (RLS) è¨­è¨ˆ

**NFR: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** ã‚’æœ€é‡è¦è¦–ã—ã€ã€ŒAPIï¼ˆNext.jsï¼‰ + DBï¼ˆSupabase RLSï¼‰ã€ã®**äºŒé‡ã§èªå¯**ã‚’è¡Œã†ã€‚

- **API å±¤:** Next.js ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒ JWT ã‚’æ¤œè¨¼ã—ã€`request.userId` ã«èªè¨¼æ¸ˆã¿ ID ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã€‚
- **DB å±¤ (RLS):** Supabase ã® RLS ã‚’æœ‰åŠ¹åŒ–ã—ã€èªè¨¼ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã® ID (`auth.uid()`) ã«åŸºã¥ã„ã¦ãƒãƒªã‚·ãƒ¼ã‚’é©ç”¨ã™ã‚‹ã€‚

### RLS ãƒãƒªã‚·ãƒ¼ (æŠœç²‹)

- **`users` ãƒ†ãƒ¼ãƒ–ãƒ«:**
  - **SELECT:** èªè¨¼ã•ã‚Œã¦ã„ã‚Œã°èª°ã§ã‚‚ `id`, `name` ã¯èª­ã¿å–ã‚Šå¯ï¼ˆãƒ—ãƒ­ãƒ•è¡¨ç¤ºç”¨ï¼‰ã€‚`email` ã¯æœ¬äººã®ã¿å¯ã€‚
  - **UPDATE:** æœ¬äººã®ã¿ (`id = auth.uid()`)ã€‚
- **`likes` ãƒ†ãƒ¼ãƒ–ãƒ«:**
  - **SELECT:** èªè¨¼ã•ã‚Œã¦ã„ã‚Œã°èª°ã§ã‚‚èª­ã¿å–ã‚Šå¯ï¼ˆã„ã„ã­æ•°è¡¨ç¤ºç”¨ï¼‰ã€‚
  - **INSERT:** æœ¬äººã®ã¿ (`userId = auth.uid()`)ã€‚
- **`lists` ãƒ†ãƒ¼ãƒ–ãƒ«:**
  - **SELECT:** `isPublic = true` ã®ãƒªã‚¹ãƒˆã¯èª°ã§ã‚‚èª­ã¿å–ã‚Šå¯ã€‚`isPublic = false` ã®ãƒªã‚¹ãƒˆã¯æœ¬äººã®ã¿ (`ownerId = auth.uid()`)ã€‚
  - **INSERT / UPDATE / DELETE:** æœ¬äººã®ã¿ (`ownerId = auth.uid()`)ã€‚

---

## 5\. ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (R2) è¨­è¨ˆ

**NFR: ç§»æ¤æ€§** ã®ãŸã‚ã€Cloudflare R2 ã®æ“ä½œã¯ `aws-sdk/client-s3` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

```typescript
// /lib/r2Client.ts (S3 SDK ã‚’ä½¿ã£ãŸ R2 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)
import { S3Client } from "@aws-sdk/client-s3";

export const r2 = new S3Client({
  region: "auto",
  endpoint: `https://<ACCOUNT_ID>.r2.cloudflarestorage.com`,
  credentials: {
    accessKeyId: process.env.R2_ACCESS_KEY_ID!,
    secretAccessKey: process.env.R2_SECRET_ACCESS_KEY!,
  },
});
```

### ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼ (API: `/api/upload/sign`)

```typescript
// /pages/api/upload/sign.ts
import { r2 } from "@/lib/r2Client";
import { PutObjectCommand } from "@aws-sdk/client-s3";
import { getSignedUrl } from "@aws-sdk/s3-request-presigner";
import { NextApiRequest, NextApiResponse } from "next";
import { getUserIdFromJwt } from "@/lib/auth"; // JWT æ¤œè¨¼
import { cuid } from "@prisma/client/runtime/library";

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  if (req.method !== "POST") return res.status(405).end();

  try {
    const userId = await getUserIdFromJwt(req); // 1. èªè¨¼
    if (!userId) return res.status(401).json({ error: "Unauthorized" });

    // 2. ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚­ãƒ¼ã‚’ç”Ÿæˆ
    const videoId = cuid();
    const objectKey = `${userId}/${videoId}/original.mp4`;
    // TODO: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã‚‰å–å¾—

    // 3. ç½²åä»˜ãURLã‚’ç”Ÿæˆ (NFR: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
    const command = new PutObjectCommand({
      Bucket: process.env.R2_BUCKET_NAME!,
      Key: objectKey,
    });
    const url = await getSignedUrl(r2, command, { expiresIn: 3600 }); // 1æ™‚é–“æœ‰åŠ¹

    // 4. URL ã¨ videoId ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”ã™
    res
      .status(200)
      .json({ uploadUrl: url, videoId: videoId, objectKey: objectKey });
  } catch (error) {
    res.status(500).json({ error: "Internal server error" });
  }
}
```

---

## 6\. CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ (GitHub Actions)

**NFR: ä¿å®ˆæ€§ãƒ»å“è³ª** ã®ãŸã‚ã€`main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸ã«ã¯å…¨ã‚¸ãƒ§ãƒ–ã®æˆåŠŸã‚’å¿…é ˆ (Branch Protection) ã¨ã™ã‚‹ã€‚

- ãƒ•ã‚¡ã‚¤ãƒ«å: `.github/workflows/ci.yml`

<!-- end list -->

```yaml
name: CI/CD Pipeline

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  # 1. ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
  quality_checks:
    name: Lint, Type-Check, Test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: Install dependencies
        run: npm ci

      - name: Run ESLint
        run: npm run lint

      - name: Run Type Check (TypeScript)
        run: npm run type-check # package.json ã« "tsc --noEmit" ã‚’å®šç¾©

      - name: Run Unit Tests
        run: npm run test

      - name: Run Prisma Generate
        run: npx prisma generate
        env:
          DATABASE_URL: ${{ secrets.DATABASE_URL }} # ãƒ†ã‚¹ãƒˆç”¨DBã‹ãƒ€ãƒŸãƒ¼ã®URL

  # 2. ãƒ“ãƒ«ãƒ‰
  build:
    name: Build Next.js
    needs: quality_checks # quality_checks ãŒæˆåŠŸã—ãŸã‚‰å®Ÿè¡Œ
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: Install dependencies
        run: npm ci

      - name: Build
        run: npm run build
        env:
          DATABASE_URL: ${{ secrets.DATABASE_URL }}

  # 3. ãƒ‡ãƒ—ãƒ­ã‚¤ (main ãƒ–ãƒ©ãƒ³ãƒã¸ã® PUSH æ™‚ã®ã¿)
  deploy:
    name: Deploy to Cloudflare Pages
    needs: build # build ãŒæˆåŠŸã—ãŸã‚‰å®Ÿè¡Œ
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Publish to Cloudflare Pages
        uses: cloudflare/pages-action@v1
        with:
          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}
          accountId: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
          projectName: "your-project-name" # Cloudflare Pages ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
          directory: ".next" # Next.js ã®ãƒ“ãƒ«ãƒ‰å‡ºåŠ›
          # Next.js (App Router/Pages Router) ã®å ´åˆã¯ 'framework: "nextjs"' ã‚’æŒ‡å®š
          # ãŸã ã—ã€API Routes (Workers) ã‚’ä½¿ã†å ´åˆã¯è¿½åŠ è¨­å®šãŒå¿…è¦ãªå ´åˆãŒã‚ã‚‹
```
